# Thomas Hoffmann, EMBL Heidelberg, structures-it@embl.de, 2024/04
# Allow to set AreTomo executable by environment variable WARPTOOLS_ARETOMO_EXE
diff -ru warp-38c489c07b0fd67f493fd663d265ef35c6a92e37/WarpTools/Commands/Tiltseries/AreTomoTiltseries.cs warp-38c489c07b0fd67f493fd663d265ef35c6a92e37_aretomo_exe_env/WarpTools/Commands/Tiltseries/AreTomoTiltseries.cs
--- warp-38c489c07b0fd67f493fd663d265ef35c6a92e37/WarpTools/Commands/Tiltseries/AreTomoTiltseries.cs	2024-04-26 16:13:58.000000000 +0200
+++ warp-38c489c07b0fd67f493fd663d265ef35c6a92e37_aretomo_exe_env/WarpTools/Commands/Tiltseries/AreTomoTiltseries.cs	2024-04-29 17:51:31.447975274 +0200
@@ -36,14 +36,14 @@
         [Option("delete_intermediate", HelpText = "Delete tilt series stacks generated for AreTomo")]
         public bool DeleteIntermediate { get; set; }
 
-        [Option("exe", Default = "AreTomo", HelpText = "Name of the AreTomo executable; must be in $PATH")]
+        [Option("exe", Default = "AreTomo", HelpText = "Name of the AreTomo executable; must be in $PATH. Affected by environment variable WARPTOOLS_ARETOMO_EXE.")]
         public string Executable { get; set; }
     }
 
     class AreTomoTiltseries : BaseCommand
     {
         public override async Task Run(object options)
-        {
+        {   string env_aretomo_exe = Environment.GetEnvironmentVariable("WARPTOOLS_ARETOMO_EXE"); if (env_aretomo_exe!=null)  ((AreTomoTiltseriesOptions)options).Executable=env_aretomo_exe;
             await base.Run(options);
             AreTomoTiltseriesOptions CLI = options as AreTomoTiltseriesOptions;
             CLI.Evaluate();
Only in warp-38c489c07b0fd67f493fd663d265ef35c6a92e37_aretomo_exe_env/WarpTools/Commands/Tiltseries: .AreTomoTiltseries.cs.swp
