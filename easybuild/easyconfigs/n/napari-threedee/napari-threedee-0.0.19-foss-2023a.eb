# Thomas Hoffmann, EMBL Heidelberg, structures-it@embl.de, 2024/05
easyblock = 'PythonBundle'

name = 'napari-threedee'
version = '0.0.19'

homepage = 'https://github.com/napari-threedee/napari-threedee'
description = """A suite of useful tools based on 3D interactivity in napari"""

toolchain = {'name': 'foss', 'version': '2023a'}


builddependencies = [
    # ('CMake', '3.26.3'),  # for libigl
]
dependencies = [
    ('Python', '3.11.3'),
    ('napari', '0.4.19.post1'),
    ('morphosamplers', '0.0.11'),
    ('imageio', '2.33.1'),
    ('zarr', '2.17.1'),
    ('pydantic', '2.5.3'),
    # TODO: ('libigl', '2.5.1')
]


exts_list = [
    # TODO: build libigl from source
    ('libigl', '2.5.1', {
        'modulename': 'igl',
        'sources': ['libigl-%(version)s-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl'],
        'checksums': ['e949a145fa1d1913ed3d325032c9e7d6a20486be393a2dfbfe68f97015f5762b'],
    }),
    ('napari_threedee', version, {
        'checksums': ['738db414cfd7e76b4495e07ec6cf12f94f84496922b21a4192960f4b4bf483e3'],
    }),
]

use_pip = True
sanity_pip_check = True

sanity_check_commands = ['napari --plugin-info|grep %(name)s']

moduleclass = 'vis'
